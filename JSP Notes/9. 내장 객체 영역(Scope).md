내장 객체 영역(Scope)
=====================

## 내장 객체의 영역

![alt](/assets/images/post/jsp/51.png)

### 1) 각 객체가 저장되는 메모리의 유효기간.

### 2) jsp와 같은 웹 어플리케이션은 페이지 단위로 구성됨
* A 페이지에서 선언한 변수를 B 페이지로 이동한 후에도 접근여부 다름.

### 3) 총 4가지

#### page 영역

* 동일한 페이지에서만 공유됨. 페이지를 벗어나면 소멸됨.

#### request 영역

* 하나의 요청에 의해 호출된 페이지와 포워드된 페이지까지 공유됨

#### session 영역

* 클라이언트가 처음 접속한 후 웹 브라우저를 닫을 때 까지 공유됨

#### application 영역

* 한 번 저장되면 웹 애플리케이션이 종료될 떄까지 유지됨.

### 4) 주요 메서드 

```java
    void setAttribute(String name, Object value)
```

* 각 영역에 속성을 저장함

```java
    Object getAtrribute(String name)
```

* 영역에 저장된 속성값 얻어옴

```java
    void removeAttribute(String name)
```

* 영역에 저장된 속성을 삭제함.

## page 영역

* 기본적으로 클라이언트 요청을 처리하는 데 관여하는 JSP 페이지마다 하나씩  
  생성됨.
* 각 jsp 페이지는 page 영역을 사용하기 위한 pageContext 객체를 할당받게 됨.
* pageContext 객체에 저장된 정보는 해당 페이지에서만 사용 가능,  
  페이지를 벗어나면 소멸됨.
* include 지시어로 포함한 파일은 하나의 페이지로 통합하므로 page 영역이 공유됨.

```jsp
<%@page import="kr.co.ezenac.dto.Person"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%
	// pageContext객체를 통해 page 영역에 숙성값을 저장함.
	pageContext.setAttribute("pageInteger", 1000);
	pageContext.setAttribute("pageString", "페이지 영역에 문자열");
	pageContext.setAttribute("pagePerson", new Person("이순신", 30));
%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>page 영역</title>
</head>
<body>
	<h2>page 영역의 속성값 읽기</h2>
	<%
		// 속성읽기
		int pInteger =(Integer) (pageContext.getAttribute("pageInteger"));
		String pString = pageContext.getAttribute("pageString").toString();
		Person pPerson = (Person)(pageContext.getAttribute("pagePerson"));
		
	%>
	<ul>
		<li>Integer 객체 : <%= pInteger %></li>
		<li>String 객체 : <%=pString %></li>
		<li>Person 객체 : <%=pPerson.getName() %>,<%=pPerson.getAge() %></li>
	</ul>
</body>
</html>
```

![alt](/assets/images/post/jsp/52.png)

